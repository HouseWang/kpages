构架工具类 Weibo.Common as window.Co

    Co.Cookie(key,val,opts) 设置cookie 

    Co.Cookie(key) 获取cookie 值

    Co.CookieStartWith(key,keyflag) 获取以 key 开头的cookie,并返回字典；当 keyflag 为 true 时字典键删除开关 key

    Co.IsHtml5() 获取是否支持html5

    Co.LoadScript(src) 动态加载 script 

    Co.extend(base,obj) 拷贝继承base对象属性，并返回obj

    Co.Inheritance(base,obj) 把base的原型复制给obj,并返回 （原型继承） 

    Co.CustomDict(dict,key,val) 自定义字典
        Co.CustomDict(dict,key,val) 设置dict[key]=val
        Co.CustomDict(dict,key),当key为字典时，dict = $.extend(dict,key) 将 key的键值赋给dict
                                当key为字符串时，返回dict[key]

    Co.ToArray(iterable) 将 iterable 对象转换成数组

    Co.Keys(object) 获取指定对象所有属性
    Co.Values(object) 获取指定对象所有值
    Co.Clone(object) clone 对象，并返回

    Co.Filter(fn,arr)  过滤 返回满足 fn 的，arr 项数组
    Co.Map(fn,arr)  映射 map函数fn 作用于给定序列的每个元素，并用一个列表来提供返回值。
    Co.Reduce(fn,arr,initial) 化简  fn为二元函数，将fn作用于arr 数组的元素，每次携带一对（先前的结果以及下一个序列的元素），
                                   连续的将现有的结果和下一个值作用在获得的随后的结果上，最后减少我们的序列为一个单一的返回值


    Co.Round() 取最近的num ,dec为小数点后位数 默认为0
    Co.GetRandomInt() 获取 10000 以内的随机整数


    Co.Html html 工具库相关扩展类
    Co.Html.Count(html) 针对 a 标签统计页面可见字数


    Weibo.Common.Dates  工具库时期相关扩展类
    Co.Dates.Convert(d) 转指定参数转成日期对象 ，可接受参数为数组，日期，整数，字符串，对象 
    Co.Dates.Compare(d1,d2) a,b两时间对比，-1 : if a < b，0 : if a = b，1 : if a > b，时间格式出错时返回 NaN 
    Co.Dates.InRange(d,start,end) 检查时间是否在指定范围， 时间格式出错时返回 NaN 
    Co.Dates.Now() 获取当前时间戳
    

    Weibo.Common.Files 工具库文件相关扩展类
    Co.Files.FormatSize(size) 获取友好的size 表达 eg 102400 byte ==> 10 KB


事件委托对象 Weibo.Delegate

    Add(fn,self) 添加注册事件
    One(fn,self) 绑定单个事件
    Remove(fn)   移除事件
    Call()       调用
    
    
架构基础对象扩展方法

    Date 日期扩展方法

        SetDate(n) 获取当前的+ N小时的日期
        ToDayLine() 获取当前时间线 当前0点
        ToWeiboDate() 转成微博所需时间格式

    String 字符串扩展方法

        Format(arguments) 返回格式化字符串 "add{0}d{1}dd".Format("ccc","sadf")
        toArray() 将字符串转成字符数组
        Trim() 

    Function 方法扩展
        
        Bind(args) // 用另一个函数来封装原始的函数对象，将函数运行时的作用域限定为 thisObj 所指定的对象。
                   // 该方法返回一个新的函数对象，返回的函数是原函数将其 this 关键字指向 thisObj 后的版本，并且，如果指定了可选的 arg 参数，还会将原函数中的部分或全部参数固定为 args 指定的值。该方法不会修改原函数对象。
        BindAsEventListener() //一个专用于事件的 Bind 方法的变体， 它确保事件触发后会将当前事件对象作为第一个参数传递给事件处理函数。
        Param() //获取方法参数 

    Array 方法扩展
        
        Remove(index,count)
        Remove(key)
        IndexOf(value)

    Number 方法扩展
        
        Pad(lenght) 前补0直到符合指定长度，用于数字补0


客户端内存数据管理器 Weibo.StaticObjs as window.So
    
    So.Config(key,val) 为设置简单的键值，val只能是string ;否则不能固化到cookie,失效时间为 So.Expre,默认为一天

    So.Config(object) object 为一级字典；同时设置字典的键值。同样值只能使用string 

    So.Config(key),获取key 对应的配置值

    So.Dict(key,val) 设置字典或按key获取字典值


构架UI通用方法 Weibo.UI as window.Ui

    Ui.InPosition(exp,InExp,x,y) //将exp 对象，浮动到 InExp 对象的位置，并进行,x ,y 偏移
    Ui.MoveTo(exp,x,y)  //将exp 对象，浮动到 left ,top 的位置
    Ui.InCenter(exp) //将exp 对象，浮动到页面中心
    
构架UI基类  Weibo.UI.Base
    
    Element UI容器
    AddTo(exp)  // 附加到 exp 元素
    Show() 显示
    Hide() 隐藏
    Destroy() 删除


构架数据源类 Weibo.Data.DataSource

    本类要与数据绑定控件配合使用
    eg:
        var render = Co.ui.BaseRender();
        render.DataSource = new Weibo.Data.DataSource("http://www.weibo.com/api/");
        render.DataBing()  //绑定数据
        render.DataSource.Load(Params) //重新加载数据
        
        // datasource 提供了，以下事件，用于扩展及数据处理
        Changes:null, //变化中事件，用于预处理数据
        OnChanging:null, // 变化前事件
        OnChanged:null,//变化后事件
        
        //使用方法如下
        render.DataSource.Changes.Add(function(e){ //todo })
        render.DataSource.OnChanging.Add(function(){ //todo })
        render.DataSource.OnChanged.Add(function(e){ //todo })

    Load(Params) 加载数据，params 为数据源参数字典，可为空

    
图形类库 Weibo.Graphic

    辅助工具类  Weibo.Graphic as window.Ga
    Ga.GetPointsDis(point1,point2) //获取 point1 和 point2 的 距离
    Ga.CrossMul(v1,v2) //计算向量叉乘
    Ga.CheckCross(p1,p2,p3,p4) //判断两条线段是否相交
    Ga.InFences(curPoint,points)//判断一个点是否在多边图形中
    Ga.NewPoint(x,y) //快速创建一个坐标点

    图型容器类 Weibo.Graphic.Canvas
    
    Draw(graphic)  //画出传入图形
    Clear() //初始化，清屏
    Store() //生成快照
    Restore() // 还原快照

    基础图型约束类 Weibo.Graphic.Base
    从此类继承出来的图形具有 Mouseover,MouseOut ,Click 等事件，支持对图形操作
    事件添加方法
    var rect = Weibo.Graphic.Rect({...})
    rect.MouseOver.Add(function(e){
        //todo
    })

    图形类库清单
    矩型 Weibo.Graphic.Rect
    opts= {
        x,
        y,
        w,
        h,
        styles:{
            fillStyle,
            strokeStyle,
            lineWidth
        }
    }

    线条 Weibo.Graphic.Line
    opts = {
        x,
        y,
        endx,
        endy
    }

    圆型 Weibo.Graphic.Arc
    opts={
        x:100,圆点x坐标
        y:100, 圆点y坐标
        r:50,半径
        w：0
    }

    多边型 Weibo.Graphic.Fences
    opts = {
        points:[]
        style,
        fill
    }

    文字 Weibo.Graphic.Text
    opts = {
        x,
        y,
        text,
        maxWidth,
        font:"",
        textAlign:start|end|left|right|center,
        textBaseline:alphabetic|top|bottom|middle|handing,
        styles:{
            
        }
    }


    立方体 Weibo.Graphic.Cube
    opts = {
        x,
        y,
        w,
        h,
        v, //立方向量
        color,
        styles:{
        }
    }

     圆柱体 Weibo.Graphic.Cylinder
     opts = {
        x,
        y,
        r,
        h,
        color,
        styles:{
        }
    }
    
    
    
    
    
    
